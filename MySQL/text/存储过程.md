# 存储过程

## 什么是存储过程

- 一组可编程的函数，是为了完成特定功能的SQL语句集

- 存储过程就是具有名字的一段代码，用来完成一个特定的功能

- 创建的存储过程保存在数据库的数据字典中

## 为什么要用存储过程

- 将重复性很高的一些操作，封装到一个存储过程中，简化了对这些SQL的调用

- 批量处理

- 统一接口，确保数据的安全

- 相对于oracle数据库来说，MySQL的存储过程相对功能较弱，使用较少

## 存储过程的创建与调用

- delimiter

    1. delimiter它与存储过程无关
    2. delimiter语句将标准分隔符-分号(;)更改为自设置分隔符
    3. 因为我们想让存储过程作为整体传递给服务器，而不是让MySQL工具一次解释每个语句

- 创建存储过程

create procedure 名称() begin 语句 end 自设置分隔符，begin...end声明范围

- 调用存储过程

call 名称()

## 存储过程变量

- 声明变量 declare 变量名 数据类型 default 默认值;

- set x = 0; 赋值

- select avg(xx) into avgres from employee; 查询并赋值

## 存储过程参数

- in 入参

- out 返回值

- inout 既是入参也是返回值
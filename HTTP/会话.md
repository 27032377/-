## HTTP会话原理解释及应用

### 一、什么是会话

会话是指一个终端用户与交互系统进行通讯的过程，会话较多用于网络上，TCP的三次握手就创建了一个会话，TCP关闭连接就是关闭会话。

### 二、什么是HTTP会话

协议的状态是指下一次传输可以‘记住’这次传输信息的能力，HTTP是不会为了下一次连接而维护这次连接所传输的信息的。从传统WEB上看：无状态是指，当浏览器发送请求给服务器的时候，服务器响应，但是同一个浏览器再发送请求给服务器的时候，他会响应，但是他不知道你就说刚才那个浏览器，简单地说，就说服务器不会去记得你，所以是无状态协议。***本质是：HTTP1.0是短连接的，请求响应后，断开了TCP连接，下一次连接与上一次无关。为了识别不同的请求是否来自同一个客户，引用HTTP会话机制，***
*即：多次HTTP连接间维护用户与同一用户发出的不同请求之间关联的情况成为维护一个会话(session)。通过会话管理对会话进行创建、信息存储、关闭等。*

### 三、HTTP会话的实现机制
Session

首先，用户端向服务器端发送一个请求，服务端接受到请求后，初始化会话，生成相应的会话信息，核心是会话ID，把会话ID发送给客户端，客户端接受到这个会话ID，把它存储起来，下一次发送请求的时候，附带着这个会话ID一起发送给服务器，服务器只要根据这个会话ID，就知道是谁了。

### 四、为了实现WebSocket通信，需要用到HTTP的Upgrade首部字段，告知服务器通信协议发生变化，已达到握手的目的。
*Upgrade: websocket*